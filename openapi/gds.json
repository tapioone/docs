{
  "openapi": "3.0.1",
  "info": {
    "title": "Global Discovery Service API",
    "description": "tapio's Global Discovery Service API enables to retrieve information of subscriptions. For example, you can retrieve information about application settings which the customer has set, like paper format if you want to print something via a tapio connected application. If your application makes too many requests, HTTP status code 429 is returned. A Retry-After header is included in this response which indicates how long to wait before making the next request. HTTP 429 standard is followed.",
    "termsOfService": "https://tapio.one/en/tapio-terms-of-use",
    "contact": {
      "name": "tapio GmbH",
      "url": "https://tapio.one",
      "email": "developer@tapio.one"
    },
    "license": {
      "name": "tapio GmbH",
      "url": "https://tapio.one/en/policy"
    },
    "version": "1"
  },
  "servers": [
    {
      "url": "https://apissgdstapiossint2.azurewebsites.net/"
    }
  ],
  "paths": {
    "/api/application/info": {
      "get": {
        "tags": [
          "Application"
        ],
        "summary": "Get Application Info",
        "description": "Provides for a specified application the corresponding developer subscription information",
        "operationId": "GetApplicationInfo",
        "parameters": [
          {
            "name": "clientId",
            "in": "query",
            "description": "AAD-client id of the application",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationInfoResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationInfoResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationInfoResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          }
        }
      }
    },
    "/api/core/application/capability/{capabilityType}": {
      "post": {
        "tags": [
          "ApplicationCapability"
        ],
        "summary": "Get Application Capability",
        "description": "Allows the retrieval of application information in the context of given machines.",
        "operationId": "GetApplicationCapability",
        "parameters": [
          {
            "name": "capabilityType",
            "in": "path",
            "description": "Capabilitiy type",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "description": "Capabilities request",
          "content": {
            "application/json-patch+json": {
              "schema": {
                "$ref": "#/components/schemas/CapabilityApiRequest"
              }
            },
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CapabilityApiRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CapabilityApiRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CapabilityApiRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CapabilityResponse"
                  }
                }
              },
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CapabilityResponse"
                  }
                }
              },
              "text/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CapabilityResponse"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          }
        }
      }
    },
    "/api/application/machines": {
      "get": {
        "tags": [
          "ApplicationMachines"
        ],
        "summary": "Get Machine Assignments",
        "description": "Provides for a specified application the corresponding developer subscription information",
        "operationId": "GetApplicationMachine",
        "parameters": [
          {
            "name": "tmid",
            "in": "query",
            "description": "TapioMachineId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationMachineResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationMachineResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationMachineResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          }
        }
      }
    },
    "/api/applicationSettings": {
      "get": {
        "tags": [
          "ApplicationSettings"
        ],
        "summary": "Get Application Settings",
        "description": "Provides the application settings for a specific subscription or multiple subscriptions.\r\nIf your application is configured to receive CloudEvents, it will receive an Application-Settings-Changed-CloudEvent when there are new application settings available.",
        "operationId": "GetApplicationSettings",
        "parameters": [
          {
            "name": "subscriptionId",
            "in": "query",
            "description": "Subscription id",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "description": "Offset for paging",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Limit for paging",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 25
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationSettingsResponseModel"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationSettingsResponseModel"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationSettingsResponseModel"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          }
        }
      }
    },
    "/api/applicationTokenProfile": {
      "get": {
        "tags": [
          "ApplicationTokenProfile"
        ],
        "summary": "Get Application Token Profile",
        "description": "Returns a filtered subscription overview based on the provided application token",
        "operationId": "GetApplicationTokenProfile",
        "parameters": [
          {
            "name": "tapio-application-token",
            "in": "header",
            "description": "Application token (UTF-8) encoded as base64",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "etag",
            "in": "header",
            "description": "ETag of previous response for cache validation",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/SubscriptionOverviewResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubscriptionOverviewResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubscriptionOverviewResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "404": {
            "description": "Token not found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "304": {
            "description": "ETag matches"
          }
        }
      }
    },
    "/api/cloudConnector/Onboarding": {
      "post": {
        "tags": [
          "CloudConnectorOnboarding"
        ],
        "summary": "Onboard CloudConnector",
        "description": "Onboard a CloudConnector",
        "operationId": "OnboardCloudConnector",
        "requestBody": {
          "description": "Onboarding information of the cloud connector",
          "content": {
            "application/json-patch+json": {
              "schema": {
                "$ref": "#/components/schemas/CloudConnectorOnboardingRequest"
              }
            },
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CloudConnectorOnboardingRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CloudConnectorOnboardingRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CloudConnectorOnboardingRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/CloudConnectorOnboardingResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CloudConnectorOnboardingResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/CloudConnectorOnboardingResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "403": {
            "description": "No AAD Client Id is available",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "404": {
            "description": "Cloud connector not found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          }
        }
      }
    },
    "/api/cloudConnectorProfile": {
      "post": {
        "tags": [
          "CloudConnectorProfile"
        ],
        "summary": "Get CloudConnector Profile",
        "description": "Gets the CloudConnector profile",
        "operationId": "GetCloudConnectorProfile",
        "requestBody": {
          "description": "CloudConnector profile",
          "content": {
            "application/json-patch+json": {
              "schema": {
                "$ref": "#/components/schemas/CloudConnectorProfile"
              }
            },
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CloudConnectorProfile"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CloudConnectorProfile"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CloudConnectorProfile"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/CloudConnectorProfile"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CloudConnectorProfile"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/CloudConnectorProfile"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          }
        }
      }
    },
    "/api/machine/{tmid}/metadata/my/key": {
      "get": {
        "tags": [
          "MachineMetadata"
        ],
        "summary": "Get My Metadata Keys",
        "description": "Lists all metadata for the specific machine",
        "operationId": "GetMyMetadataKeys",
        "parameters": [
          {
            "name": "tmid",
            "in": "path",
            "description": "TapioMachineId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/MachineMetadataListResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MachineMetadataListResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/MachineMetadataListResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          }
        }
      }
    },
    "/api/machine/{tmid}/metadata/my/key/{key}": {
      "get": {
        "tags": [
          "MachineMetadata"
        ],
        "summary": "Get My Metadata By Key",
        "description": "Gets a specific metadata for the specific machine",
        "operationId": "GetMyMetadataByKey",
        "parameters": [
          {
            "name": "tmid",
            "in": "path",
            "description": "TapioMachineId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "string"
            }
          },
          {
            "name": "key",
            "in": "path",
            "description": "Key",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "etag",
            "in": "header",
            "description": "ETag",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful"
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          }
        }
      }
    },
    "/api/machine/{tmid}/metadata/global/key": {
      "get": {
        "tags": [
          "MachineMetadata"
        ],
        "summary": "Get Global Metadata Keys",
        "description": "Lists all global metadata for the specific machine",
        "operationId": "GetGlobalMetadataKeys",
        "parameters": [
          {
            "name": "tmid",
            "in": "path",
            "description": "TapioMachineId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful"
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          }
        }
      }
    },
    "/api/machine/{tmid}/metadata/global/key/{key}": {
      "get": {
        "tags": [
          "MachineMetadata"
        ],
        "summary": "Get Global Metadata By Key",
        "description": "Gets a specific global metadata for the specific machine",
        "operationId": "GetGlobalMetadataByKey",
        "parameters": [
          {
            "name": "tmid",
            "in": "path",
            "description": "TapioMachineId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "string"
            }
          },
          {
            "name": "key",
            "in": "path",
            "description": "Key",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "etag",
            "in": "header",
            "description": "Etag",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful"
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          }
        }
      }
    },
    "/api/subscriptionDataDeletion/confirmation": {
      "post": {
        "tags": [
          "SubscriptionDataDeletion"
        ],
        "summary": "Confirm Data Deletion",
        "description": "Used to confirm that the requested data deletion has been completed",
        "operationId": "ConfirmDataDeletion",
        "requestBody": {
          "description": "Data deletion confirmation request",
          "content": {
            "application/json-patch+json": {
              "schema": {
                "$ref": "#/components/schemas/ConfirmDataDeletionRequest"
              }
            },
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConfirmDataDeletionRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/ConfirmDataDeletionRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/ConfirmDataDeletionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful"
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          }
        }
      }
    },
    "/api/subscriptionOverview": {
      "get": {
        "tags": [
          "SubscriptionOverview"
        ],
        "summary": "Get Subscription Overview",
        "description": "Get an overview of all subscriptions that authorized the application",
        "operationId": "GetSubscriptionOverview",
        "parameters": [
          {
            "name": "subscriptionId",
            "in": "query",
            "description": "Subscription id",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "description": "Offset for paging",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Limit for paging",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 25
            }
          },
          {
            "name": "etag",
            "in": "header",
            "description": "Etag",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/SubscriptionOverviewResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubscriptionOverviewResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubscriptionOverviewResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "304": {
            "description": "ETag matches"
          }
        }
      }
    },
    "/api/userProfile/{email}": {
      "get": {
        "tags": [
          "UserProfile"
        ],
        "summary": "Get User Profile",
        "description": "Get the profile of a user via email address.\r\n\r\nYou can use this request to check if a user has a license for an application:\r\n\r\nThe Global Discovery Service API returns information based on the set of `tapio-Applications` that are assigned to the calling `AAD-Application`. Make sure that the `AAD-Application` you are using is assigned to the `tapio-Application` you want to check licenses for in [my tapio](https://my.tapio.one).\r\n            \r\nTo check if the `User` has a `License` for your `tapio-Application` you have to go through all `Licenses` of of all `Subscriptions` in the response and check if there is a `License` with the id of your `tapio-Application` (`subscriptions[].licenses[].applicationId` [JMESPath](https://jmespath.org/)).\r\n            \r\n`Licenses` can expire or be unassigned from a certain `User` or `Machine`.\r\nIt is not recommended to poll the **Global Discovery Service API** and detect those changes yourself.\r\nInstead we encourage you [to setup a CloudEvent endpoint](./cloud-events) and listen for `License`-related changes.",
        "operationId": "GetUserProfile",
        "parameters": [
          {
            "name": "email",
            "in": "path",
            "description": "Email address",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfile"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfile"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfile"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "404": {
            "description": "User not found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ApplicationInfo": {
        "type": "object",
        "properties": {
          "applicationId": {
            "type": "string",
            "description": "Application id",
            "format": "uuid"
          },
          "subscriptionId": {
            "type": "string",
            "description": "Corresponding developer subscription id",
            "format": "uuid",
            "nullable": true
          },
          "subscriptionName": {
            "type": "string",
            "description": "Corresponding developer subscription name",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Application information"
      },
      "ApplicationInfoResponse": {
        "type": "object",
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ApplicationInfo"
          }
        },
        "additionalProperties": false,
        "description": "Application information response"
      },
      "ApplicationMachineInfo": {
        "type": "object",
        "properties": {
          "tmid": {
            "type": "string",
            "description": "TapioMachineId of the assigned machine",
            "format": "string"
          },
          "subscriptionId": {
            "type": "string",
            "description": "Id of the subscription of the machine",
            "format": "uuid"
          },
          "applicationId": {
            "type": "string",
            "description": "Id of the application, to which the machine is assigned",
            "format": "uuid"
          }
        },
        "additionalProperties": false,
        "description": "Contains information about machines assigned to an application"
      },
      "ApplicationMachineResponse": {
        "type": "object",
        "properties": {
          "totalCount": {
            "type": "integer",
            "description": "Total count of items",
            "format": "int32",
            "readOnly": true
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ApplicationMachineInfo"
            },
            "description": "List of application machine information",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Application machine response"
      },
      "ApplicationResponse": {
        "type": "object",
        "properties": {
          "applicationId": {
            "type": "string",
            "description": "Application id",
            "format": "uuid"
          },
          "displayName": {
            "type": "string",
            "description": "Display name",
            "nullable": true
          },
          "aadClientIds": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Assigned AAD client ids",
            "nullable": true
          },
          "endpoints": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EndpointResponse"
            },
            "description": "List of endpoints",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Application"
      },
      "ApplicationSettingsResponseModel": {
        "type": "object",
        "properties": {
          "totalCount": {
            "type": "integer",
            "description": "Total count of items",
            "format": "int32"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SettingsEntry"
            },
            "description": "List of application settings",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Application settings response"
      },
      "AssignedApplication": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Application id",
            "format": "uuid"
          }
        },
        "additionalProperties": false,
        "description": "Assigned application"
      },
      "CapabilityApiRequest": {
        "type": "object",
        "properties": {
          "tmids": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "The list of tmids (TapioMachineIds) to request the capabilities for",
            "nullable": true
          },
          "applicationIds": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "description": "If present, the response is filtered by this list of application ids",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Capability request"
      },
      "CapabilityResponse": {
        "type": "object",
        "properties": {
          "tmid": {
            "type": "string",
            "description": "TapioMachineId",
            "nullable": true
          },
          "capabilityType": {
            "type": "string",
            "description": "Capability type",
            "nullable": true
          },
          "applications": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ApplicationResponse"
            },
            "description": "Applications assigned to this TapioMachineId",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Describes the relationship between a machine and applications with regards to a certain application capability"
      },
      "CloudConnectorMachine": {
        "type": "object",
        "properties": {
          "tmid": {
            "type": "string",
            "description": "TapioMachineId",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "A machine assigned to CloudConnector"
      },
      "CloudConnectorOnboardingRequest": {
        "type": "object",
        "properties": {
          "ccid": {
            "type": "string",
            "description": "CloudConnector id",
            "nullable": true
          },
          "uiCode": {
            "type": "string",
            "description": "8 digit oboarding code",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "CloudConnector onboarding request"
      },
      "CloudConnectorOnboardingResponse": {
        "type": "object",
        "properties": {
          "activationCode": {
            "type": "string",
            "description": "The 12-digit activation code for the machine onboarding",
            "nullable": true
          },
          "expiry": {
            "type": "string",
            "description": "Expiry date",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "CloudConnector onboarding response"
      },
      "CloudConnectorProfile": {
        "type": "object",
        "properties": {
          "ccid": {
            "type": "string",
            "description": "CloudConnector id",
            "nullable": true
          },
          "tmids": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CloudConnectorMachine"
            },
            "description": "Machines assigend to the CloudConnector",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Cloud connector profile"
      },
      "ConfirmDataDeletionRequest": {
        "required": [
          "subscriptionId"
        ],
        "type": "object",
        "properties": {
          "subscriptionId": {
            "type": "string",
            "description": "Subscription id",
            "format": "uuid"
          },
          "applicationId": {
            "type": "string",
            "description": "Application id",
            "format": "uuid",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Data deletion request"
      },
      "DeviceType": {
        "enum": [
          "Unknown",
          "Machine",
          "SmartDevice"
        ],
        "type": "string",
        "description": "Device type"
      },
      "EndpointResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Internal id",
            "format": "uuid"
          },
          "endpointType": {
            "type": "string",
            "description": "Endpoint type, \"eventhub\" or \"storageAccount\"",
            "nullable": true
          },
          "endpointValue": {
            "description": "Connection information for the endpoint",
            "nullable": true
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Tags",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Endpoint"
      },
      "EquipmentGroupInfo": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Equipment group id",
            "nullable": true
          },
          "parentId": {
            "type": "string",
            "description": "Id of the parent equipment group, or null if there is no parent.",
            "nullable": true
          },
          "displayName": {
            "type": "string",
            "description": "Display name",
            "nullable": true
          },
          "groupPosition": {
            "type": "integer",
            "description": "Position of the machine within the group",
            "format": "int32"
          },
          "placesCount": {
            "type": "integer",
            "description": "Number of places in the equipment group",
            "format": "int32"
          },
          "type": {
            "$ref": "#/components/schemas/GroupType"
          }
        },
        "additionalProperties": false,
        "description": "Equipment group information"
      },
      "EquipmentGroupMachineInfo": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Id of the equipment group.",
            "nullable": true
          },
          "groupPosition": {
            "type": "integer",
            "description": "Position of the machine within the group.",
            "format": "int32"
          }
        },
        "additionalProperties": false,
        "description": "Information about a group in the context of a machine, assigned to it."
      },
      "ErrorInformation": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "nullable": true
          },
          "details": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "GroupType": {
        "enum": [
          "Group",
          "Warehouse",
          "Root"
        ],
        "type": "string"
      },
      "Internationalization": {
        "type": "object",
        "properties": {
          "locale": {
            "type": "string",
            "description": "Locale",
            "nullable": true
          },
          "timeZone": {
            "type": "string",
            "description": "Time zone (Windows format)",
            "nullable": true
          },
          "currency": {
            "type": "string",
            "description": "Currency id based on ISO 4217",
            "nullable": true
          },
          "systemOfUnits": {
            "type": "string",
            "description": "System of units, possible values: \"metric\" or \"imperial\"",
            "nullable": true
          },
          "paperFormat": {
            "type": "string",
            "description": "Paper format, possible values: \"A4\" or \"letter\"",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Internationalization"
      },
      "LicenseInfo": {
        "type": "object",
        "properties": {
          "licenseId": {
            "type": "string",
            "description": "License id",
            "format": "uuid"
          },
          "applicationId": {
            "type": "string",
            "description": "Application id",
            "format": "uuid"
          },
          "createdDate": {
            "type": "string",
            "description": "License creation date",
            "format": "date-time"
          },
          "billingStartDate": {
            "type": "string",
            "description": "Billing start date",
            "format": "date-time"
          },
          "billingInterval": {
            "type": "string",
            "description": "Billing interval",
            "nullable": true
          },
          "licenseCount": {
            "type": "integer",
            "description": "License count",
            "format": "int32"
          }
        },
        "additionalProperties": false,
        "description": "License information"
      },
      "Logo": {
        "type": "object",
        "properties": {
          "uri": {
            "type": "string",
            "description": "Uri to the logo (PNG).\r\nThe URL path will change when the customer changes their logo.\r\nBe aware that the URLs expire. They are valid for a minimum of two weeks. New urls will be returned at least two weeks before the previous ones expire.",
            "nullable": true
          },
          "thumbnail": {
            "type": "string",
            "description": "Uri to a thumbnail of the logo, Max 64px (height or width)",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Logo information"
      },
      "MachineInfo": {
        "type": "object",
        "properties": {
          "tmid": {
            "type": "string",
            "description": "TapioMachineId",
            "nullable": true
          },
          "deviceType": {
            "$ref": "#/components/schemas/DeviceType"
          },
          "deviceSubType": {
            "type": "string",
            "description": "Device sub-type. If Device type is set to \"Machine\", Device sub-type will only contain one the following values: \"Unknown\", \"Edge\", \"Saw\", \"Cnc\", \"Sanding\", \"Drilling\", \"Assembly\", \"Storing\", \"Stock\", \"Sorting\", \"Shipping\", \"PreAssembly\", \"Lamination\", \"Moulding\", \"Packaging\", \"Handling\"",
            "nullable": true
          },
          "displayName": {
            "type": "string",
            "description": "Display name",
            "nullable": true
          },
          "manufacturerSerialNumber": {
            "type": "string",
            "description": "Serial number given to the machine by its manufacturer.",
            "nullable": true
          },
          "onboardingDate": {
            "type": "string",
            "description": "The date, when the machine has been added to the subscription",
            "format": "date-time"
          },
          "equipmentGroup": {
            "$ref": "#/components/schemas/EquipmentGroupMachineInfo"
          },
          "assignedApplications": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AssignedApplication"
            },
            "description": "List of assigned applications for this machine",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Machine information"
      },
      "MachineMetadataListResponse": {
        "type": "object",
        "properties": {
          "totalCount": {
            "type": "integer",
            "description": "Total count of items",
            "format": "int32"
          },
          "results": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MachineMetadataResponse"
            },
            "description": "List of machine metadata response",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Machine metadata list response"
      },
      "MachineMetadataResponse": {
        "type": "object",
        "properties": {
          "contentType": {
            "type": "string",
            "description": "Content type",
            "nullable": true
          },
          "key": {
            "type": "string",
            "description": "Metadata key",
            "nullable": true
          },
          "etag": {
            "type": "string",
            "description": "Etag",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Machine metadata response"
      },
      "ServicePartner": {
        "type": "object",
        "properties": {
          "subscriptionId": {
            "type": "string",
            "description": "Subscription id",
            "format": "uuid"
          },
          "name": {
            "type": "string",
            "description": "Service partner name",
            "nullable": true
          },
          "customerNumber": {
            "type": "string",
            "description": "Customer number",
            "nullable": true
          },
          "parentSubscriptionId": {
            "type": "string",
            "description": "Parent id",
            "format": "uuid",
            "nullable": true
          },
          "providerNo": {
            "type": "string",
            "description": "Provider number",
            "nullable": true
          },
          "servicePartnerType": {
            "$ref": "#/components/schemas/ServicePartnerType"
          }
        },
        "additionalProperties": false,
        "description": "Service partner"
      },
      "ServicePartnerType": {
        "enum": [
          "MachineService",
          "SharpeningService"
        ],
        "type": "string",
        "description": "Service partner type"
      },
      "SettingsEntry": {
        "type": "object",
        "properties": {
          "subscriptionId": {
            "type": "string",
            "description": "Subscription id",
            "format": "uuid"
          },
          "countryId": {
            "type": "string",
            "description": "Country id ISO 3166-1 alpha-2 code",
            "nullable": true
          },
          "internationalization": {
            "$ref": "#/components/schemas/Internationalization"
          },
          "logo": {
            "$ref": "#/components/schemas/Logo"
          }
        },
        "additionalProperties": false,
        "description": "Application settings"
      },
      "SubscriptionInfo": {
        "type": "object",
        "properties": {
          "subscriptionId": {
            "type": "string",
            "description": "Subscription id",
            "format": "uuid"
          },
          "parentSubscriptionId": {
            "type": "string",
            "description": "Parent subscription id",
            "format": "uuid",
            "nullable": true
          },
          "name": {
            "type": "string",
            "description": "Subscription name",
            "nullable": true
          },
          "tapioId": {
            "type": "string",
            "description": "Tapio id",
            "nullable": true
          },
          "assignedMachines": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MachineInfo"
            },
            "description": "Assigned machines",
            "nullable": true
          },
          "subscriptionTypes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Subscription Types",
            "nullable": true,
            "readOnly": true,
            "deprecated": true
          },
          "subscriptionFeatures": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Subscription Features",
            "nullable": true
          },
          "servicePartners": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ServicePartner"
            },
            "description": "Service partners",
            "nullable": true
          },
          "licenses": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LicenseInfo"
            },
            "description": "Licenses",
            "nullable": true
          },
          "equipmentGroups": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EquipmentGroupInfo"
            },
            "description": "Equipment groups",
            "nullable": true
          },
          "servicePartnerType": {
            "$ref": "#/components/schemas/ServicePartnerType"
          }
        },
        "additionalProperties": false,
        "description": "Subscription information"
      },
      "SubscriptionOverviewResponse": {
        "type": "object",
        "properties": {
          "totalCount": {
            "type": "integer",
            "description": "Total count of items",
            "format": "int32"
          },
          "subscriptions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SubscriptionInfo"
            },
            "description": "List of subscription information",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Subscription overview response"
      },
      "SubscriptionUserProfileInfo": {
        "type": "object",
        "properties": {
          "role": {
            "type": "string",
            "description": "User role",
            "nullable": true
          },
          "subscriptionId": {
            "type": "string",
            "description": "Subscription id",
            "format": "uuid"
          },
          "parentSubscriptionId": {
            "type": "string",
            "description": "Parent subscription id",
            "format": "uuid",
            "nullable": true
          },
          "name": {
            "type": "string",
            "description": "Subscription name",
            "nullable": true
          },
          "tapioId": {
            "type": "string",
            "description": "Tapio id",
            "nullable": true
          },
          "assignedMachines": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MachineInfo"
            },
            "description": "Assigned machines",
            "nullable": true
          },
          "subscriptionTypes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Subscription Types",
            "nullable": true,
            "readOnly": true,
            "deprecated": true
          },
          "subscriptionFeatures": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Subscription Features",
            "nullable": true
          },
          "servicePartners": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ServicePartner"
            },
            "description": "Service partners",
            "nullable": true
          },
          "licenses": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LicenseInfo"
            },
            "description": "Licenses",
            "nullable": true
          },
          "equipmentGroups": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EquipmentGroupInfo"
            },
            "description": "Equipment groups",
            "nullable": true
          },
          "servicePartnerType": {
            "$ref": "#/components/schemas/ServicePartnerType"
          }
        },
        "additionalProperties": false,
        "description": "Subscription information"
      },
      "UserProfile": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "Email address",
            "nullable": true
          },
          "subscriptions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SubscriptionUserProfileInfo"
            },
            "description": "List of user profiles",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "User profile"
      }
    },
    "securitySchemes": {
      "Bearer": {
        "type": "apiKey",
        "description": "Standard Authorization header using the Bearer scheme. Example: \"bearer {token}\"",
        "name": "Authorization",
        "in": "header"
      }
    }
  },
  "security": [
    {
      "Bearer": [ ]
    }
  ],
  "tags": [
    {
      "name": "Application"
    },
    {
      "name": "ApplicationCapability"
    },
    {
      "name": "ApplicationMachines"
    },
    {
      "name": "ApplicationSettings"
    },
    {
      "name": "ApplicationTokenProfile"
    },
    {
      "name": "CloudConnectorOnboarding"
    },
    {
      "name": "CloudConnectorProfile"
    },
    {
      "name": "MachineMetadata"
    },
    {
      "name": "SubscriptionDataDeletion"
    },
    {
      "name": "SubscriptionOverview"
    },
    {
      "name": "UserProfile"
    }
  ]
}