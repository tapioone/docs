{
  "openapi": "3.0.1",
  "info": {
    "title": "tapio SelfService GlobalDiscoveryService API Version 1",
    "description": "tapio SelfService GlobalDiscoveryService API Version 1",
    "contact": {
      "name": "tapio",
      "url": "https://www.tapio.one/de",
      "email": "info@tapio.one"
    },
    "license": {
      "name": "tapio GmbH",
      "url": "https://www.tapio.one/de/policy"
    },
    "version": "1"
  },
  "paths": {
    "/api/application/info": {
      "get": {
        "tags": [
          "Application"
        ],
        "summary": "Provides for a specified application the corresponding developer subscription information",
        "parameters": [
          {
            "name": "clientId",
            "in": "query",
            "description": "AAD-client id of the application",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationInfoResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationInfoResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationInfoResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          }
        }
      }
    },
    "/api/core/application/capability/{capabilityType}": {
      "post": {
        "tags": [
          "ApplicationCapability"
        ],
        "summary": "Allows retrieval of application information in the context of given machines.",
        "parameters": [
          {
            "name": "capabilityType",
            "in": "path",
            "description": "the capabilitiyType",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "description": "the capabilities request",
          "content": {
            "application/json-patch+json": {
              "schema": {
                "$ref": "#/components/schemas/CapabilityApiRequest"
              }
            },
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CapabilityApiRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CapabilityApiRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CapabilityApiRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CapabilityResponse"
                  }
                }
              },
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CapabilityResponse"
                  }
                }
              },
              "text/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CapabilityResponse"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          }
        }
      }
    },
    "/api/application/machines": {
      "get": {
        "tags": [
          "ApplicationMachines"
        ],
        "summary": "Provides for a specified application the corresponding developer subscription information",
        "parameters": [
          {
            "name": "tmid",
            "in": "query",
            "description": "Mandatory filter parameter to filter the assigned tapio machine ids.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationMachineResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationMachineResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationMachineResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          }
        }
      }
    },
    "/api/applicationSettings": {
      "get": {
        "tags": [
          "ApplicationSettings"
        ],
        "summary": "Get application settings",
        "parameters": [
          {
            "name": "subscriptionId",
            "in": "query",
            "description": "Subscription id",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "description": "offset of page",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "limit of page size",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 25
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationSettingsResponseModel"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationSettingsResponseModel"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationSettingsResponseModel"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          }
        }
      }
    },
    "/api/applicationTokenProfile": {
      "get": {
        "tags": [
          "ApplicationTokenProfile"
        ],
        "summary": "Returns a filtered subscription overview based on the provided application token",
        "parameters": [
          {
            "name": "tapio-application-token",
            "in": "header",
            "description": "the application token (UTF-8) encoded as base64",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "etag",
            "in": "header",
            "description": "ETag of previous response for cache validation",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/SubscriptionOverviewResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubscriptionOverviewResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubscriptionOverviewResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "404": {
            "description": "Token not found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "304": {
            "description": "ETag matches"
          }
        }
      }
    },
    "/api/cloudConnector/Onboarding": {
      "post": {
        "tags": [
          "CloudConnectorOnboarding"
        ],
        "summary": "Post the cloud connector information for machine onboarding",
        "requestBody": {
          "description": "The onboarding information of the cloud connector",
          "content": {
            "application/json-patch+json": {
              "schema": {
                "$ref": "#/components/schemas/CloudConnectorOnboardingRequest"
              }
            },
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CloudConnectorOnboardingRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CloudConnectorOnboardingRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CloudConnectorOnboardingRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/CloudConnectorOnboardingResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CloudConnectorOnboardingResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/CloudConnectorOnboardingResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "403": {
            "description": "No AAD Client Id is available",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "404": {
            "description": "Cloud connector not found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          }
        }
      }
    },
    "/api/cloudConnectorProfile": {
      "post": {
        "tags": [
          "CloudConnectorProfile"
        ],
        "summary": "GetAsync the user profile via email address",
        "requestBody": {
          "description": "the requested cloud connector profile",
          "content": {
            "application/json-patch+json": {
              "schema": {
                "$ref": "#/components/schemas/CloudConnectorProfile"
              }
            },
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CloudConnectorProfile"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CloudConnectorProfile"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CloudConnectorProfile"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/CloudConnectorProfile"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CloudConnectorProfile"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/CloudConnectorProfile"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          }
        }
      }
    },
    "/api/machine/{tmid}/metadata/my/key": {
      "get": {
        "tags": [
          "MachineMetadata"
        ],
        "summary": "Lists all metadata for the specific machine.",
        "parameters": [
          {
            "name": "tmid",
            "in": "path",
            "description": "The machine tmid.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/MachineMetadataListResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MachineMetadataListResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/MachineMetadataListResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          }
        }
      }
    },
    "/api/machine/{tmid}/metadata/my/key/{key}": {
      "get": {
        "tags": [
          "MachineMetadata"
        ],
        "summary": "Gets a specific metadata for the specific machine.",
        "parameters": [
          {
            "name": "tmid",
            "in": "path",
            "description": "The machine tmid.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "string"
            }
          },
          {
            "name": "key",
            "in": "path",
            "description": "The key.",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "etag",
            "in": "header",
            "description": "Optional etag header",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful"
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          }
        }
      }
    },
    "/api/machine/{tmid}/metadata/global/key": {
      "get": {
        "tags": [
          "MachineMetadata"
        ],
        "summary": "Lists all global metadata for the specific machine.",
        "parameters": [
          {
            "name": "tmid",
            "in": "path",
            "description": "The machine tmid.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful"
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          }
        }
      }
    },
    "/api/machine/{tmid}/metadata/global/key/{key}": {
      "get": {
        "tags": [
          "MachineMetadata"
        ],
        "summary": "Gets a specific global metadata for the specific machine.",
        "parameters": [
          {
            "name": "tmid",
            "in": "path",
            "description": "The machine tmid.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "string"
            }
          },
          {
            "name": "key",
            "in": "path",
            "description": "The key.",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "etag",
            "in": "header",
            "description": "Optional etag header",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful"
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          }
        }
      }
    },
    "/api/subscriptionDataDeletion/confirmation": {
      "post": {
        "tags": [
          "SubscriptionDataDeletion"
        ],
        "summary": "To confirm the app deleted the data",
        "requestBody": {
          "description": "Request model to confirm data deletion",
          "content": {
            "application/json-patch+json": {
              "schema": {
                "$ref": "#/components/schemas/ConfirmDataDeletionRequest"
              }
            },
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConfirmDataDeletionRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/ConfirmDataDeletionRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/ConfirmDataDeletionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful"
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          }
        }
      }
    },
    "/api/subscriptionOverview": {
      "get": {
        "tags": [
          "SubscriptionOverview"
        ],
        "summary": "Get an overview of all subscriptions that authorized the application",
        "parameters": [
          {
            "name": "subscriptionId",
            "in": "query",
            "description": "Optional subscription to filter to",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "description": "Optional offset",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Optional limit",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 25
            }
          },
          {
            "name": "etag",
            "in": "header",
            "description": "Optional etag header",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/SubscriptionOverviewResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubscriptionOverviewResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubscriptionOverviewResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "304": {
            "description": "ETag matches"
          }
        }
      }
    },
    "/api/userProfile/{email}": {
      "get": {
        "tags": [
          "UserProfile"
        ],
        "summary": "GetAsync the user profile via email address",
        "parameters": [
          {
            "name": "email",
            "in": "path",
            "description": "the email address",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfile"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfile"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfile"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          },
          "404": {
            "description": "User not found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorInformation"
                }
              }
            }
          }
        }
      }
    },
    "/api/warmup": {
      "get": {
        "tags": [
          "Warmup"
        ],
        "summary": "Execute warmup",
        "responses": {
          "200": {
            "description": "Success"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ApplicationInfo": {
        "type": "object",
        "properties": {
          "applicationId": {
            "type": "string",
            "format": "uuid"
          },
          "subscriptionId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "subscriptionName": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "ApplicationInfoResponse": {
        "type": "object",
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ApplicationInfo"
          }
        },
        "additionalProperties": false,
        "description": "Response to an application info request."
      },
      "ApplicationMachineInfo": {
        "type": "object",
        "properties": {
          "tmid": {
            "type": "string",
            "format": "string"
          },
          "subscriptionId": {
            "type": "string",
            "format": "uuid"
          },
          "applicationId": {
            "type": "string",
            "format": "uuid"
          }
        },
        "additionalProperties": false
      },
      "ApplicationMachineResponse": {
        "type": "object",
        "properties": {
          "totalCount": {
            "type": "integer",
            "description": "Total count of items.",
            "format": "int32",
            "readOnly": true
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ApplicationMachineInfo"
            },
            "description": "List of data items.",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Api response for multiple items"
      },
      "ApplicationResponse": {
        "type": "object",
        "properties": {
          "applicationId": {
            "type": "string",
            "format": "uuid"
          },
          "displayName": {
            "type": "string",
            "nullable": true
          },
          "aadClientIds": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "endpoints": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EndpointResponse"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "ApplicationSettingsResponseModel": {
        "type": "object",
        "properties": {
          "totalCount": {
            "type": "integer",
            "format": "int32"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SettingsEntry"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "AssignedApplication": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          }
        },
        "additionalProperties": false
      },
      "CapabilityApiRequest": {
        "type": "object",
        "properties": {
          "tmids": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "The list of tmids to request the capabilities for",
            "nullable": true
          },
          "applicationIds": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Optional: If present, the response is filtered by application id",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "The request model for the capability API. This one is different than the one used in the logic."
      },
      "CapabilityResponse": {
        "type": "object",
        "properties": {
          "tmid": {
            "type": "string",
            "nullable": true
          },
          "capabilityType": {
            "type": "string",
            "nullable": true
          },
          "applications": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ApplicationResponse"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "CloudConnectorMachine": {
        "type": "object",
        "properties": {
          "tmid": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "CloudConnectorOnboardingRequest": {
        "type": "object",
        "properties": {
          "ccid": {
            "type": "string",
            "nullable": true
          },
          "uiCode": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "CloudConnectorOnboardingResponse": {
        "type": "object",
        "properties": {
          "activationCode": {
            "type": "string",
            "nullable": true
          },
          "expiry": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "CloudConnectorProfile": {
        "type": "object",
        "properties": {
          "ccid": {
            "type": "string",
            "nullable": true
          },
          "tmids": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CloudConnectorMachine"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "ConfirmDataDeletionRequest": {
        "required": [
          "subscriptionId"
        ],
        "type": "object",
        "properties": {
          "subscriptionId": {
            "type": "string",
            "description": "Subscription id",
            "format": "uuid"
          },
          "applicationId": {
            "type": "string",
            "description": "Optional application id",
            "format": "uuid",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Request model to confirm data deletion"
      },
      "DeviceType": {
        "enum": [
          "Unknown",
          "Machine",
          "SmartDevice"
        ],
        "type": "string"
      },
      "EndpointResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "endpointType": {
            "type": "string",
            "nullable": true
          },
          "endpointValue": {
            "nullable": true
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "EquipmentGroupInfo": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "nullable": true
          },
          "parentId": {
            "type": "string",
            "nullable": true
          },
          "displayName": {
            "type": "string",
            "nullable": true
          },
          "groupPosition": {
            "type": "integer",
            "format": "int32"
          },
          "placesCount": {
            "type": "integer",
            "format": "int32"
          },
          "type": {
            "$ref": "#/components/schemas/GroupType"
          }
        },
        "additionalProperties": false
      },
      "EquipmentGroupMachineInfo": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "nullable": true
          },
          "groupPosition": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "ErrorInformation": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "nullable": true
          },
          "details": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "GroupType": {
        "enum": [
          "Group",
          "Warehouse",
          "Root"
        ],
        "type": "string"
      },
      "Internationalization": {
        "type": "object",
        "properties": {
          "locale": {
            "type": "string",
            "nullable": true
          },
          "timeZone": {
            "type": "string",
            "nullable": true
          },
          "currency": {
            "type": "string",
            "nullable": true
          },
          "systemOfUnits": {
            "type": "string",
            "nullable": true
          },
          "paperFormat": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "LicenseInfo": {
        "type": "object",
        "properties": {
          "licenseId": {
            "type": "string",
            "format": "uuid"
          },
          "applicationId": {
            "type": "string",
            "format": "uuid"
          },
          "createdDate": {
            "type": "string",
            "format": "date-time"
          },
          "billingStartDate": {
            "type": "string",
            "format": "date-time"
          },
          "billingInterval": {
            "type": "string",
            "nullable": true
          },
          "licenseCount": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "Logo": {
        "type": "object",
        "properties": {
          "uri": {
            "type": "string",
            "nullable": true
          },
          "thumbnail": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "MachineInfo": {
        "type": "object",
        "properties": {
          "tmid": {
            "type": "string",
            "nullable": true
          },
          "deviceType": {
            "$ref": "#/components/schemas/DeviceType"
          },
          "deviceSubType": {
            "type": "string",
            "nullable": true
          },
          "displayName": {
            "type": "string",
            "nullable": true
          },
          "manufacturerSerialNumber": {
            "type": "string",
            "nullable": true
          },
          "onboardingDate": {
            "type": "string",
            "format": "date-time"
          },
          "equipmentGroup": {
            "$ref": "#/components/schemas/EquipmentGroupMachineInfo"
          },
          "assignedApplications": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AssignedApplication"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "MachineMetadataListResponse": {
        "type": "object",
        "properties": {
          "totalCount": {
            "type": "integer",
            "format": "int32"
          },
          "results": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MachineMetadataResponse"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "MachineMetadataResponse": {
        "type": "object",
        "properties": {
          "contentType": {
            "type": "string",
            "nullable": true
          },
          "key": {
            "type": "string",
            "nullable": true
          },
          "etag": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "ServicePartner": {
        "type": "object",
        "properties": {
          "subscriptionId": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "customerNumber": {
            "type": "string",
            "nullable": true
          },
          "parentSubscriptionId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "providerNo": {
            "type": "string",
            "nullable": true
          },
          "servicePartnerType": {
            "$ref": "#/components/schemas/ServicePartnerType"
          }
        },
        "additionalProperties": false
      },
      "ServicePartnerType": {
        "enum": [
          "MachineService",
          "SharpeningService"
        ],
        "type": "string"
      },
      "SettingsEntry": {
        "type": "object",
        "properties": {
          "subscriptionId": {
            "type": "string",
            "format": "uuid"
          },
          "countryId": {
            "type": "string",
            "nullable": true
          },
          "internationalization": {
            "$ref": "#/components/schemas/Internationalization"
          },
          "logo": {
            "$ref": "#/components/schemas/Logo"
          }
        },
        "additionalProperties": false
      },
      "SubscriptionInfo": {
        "type": "object",
        "properties": {
          "subscriptionId": {
            "type": "string",
            "format": "uuid"
          },
          "parentSubscriptionId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "tapioId": {
            "type": "string",
            "nullable": true
          },
          "assignedMachines": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MachineInfo"
            },
            "nullable": true
          },
          "subscriptionTypes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true,
            "readOnly": true,
            "deprecated": true
          },
          "subscriptionFeatures": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "servicePartners": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ServicePartner"
            },
            "nullable": true
          },
          "licenses": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LicenseInfo"
            },
            "nullable": true
          },
          "equipmentGroups": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EquipmentGroupInfo"
            },
            "nullable": true
          },
          "servicePartnerType": {
            "$ref": "#/components/schemas/ServicePartnerType"
          }
        },
        "additionalProperties": false
      },
      "SubscriptionOverviewResponse": {
        "type": "object",
        "properties": {
          "totalCount": {
            "type": "integer",
            "description": "Total count of items;",
            "format": "int32"
          },
          "subscriptions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SubscriptionInfo"
            },
            "description": "Included subscriptions.",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Response for subscription overview requests."
      },
      "SubscriptionUserProfileInfo": {
        "type": "object",
        "properties": {
          "role": {
            "type": "string",
            "nullable": true
          },
          "subscriptionId": {
            "type": "string",
            "format": "uuid"
          },
          "parentSubscriptionId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "tapioId": {
            "type": "string",
            "nullable": true
          },
          "assignedMachines": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MachineInfo"
            },
            "nullable": true
          },
          "subscriptionTypes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true,
            "readOnly": true,
            "deprecated": true
          },
          "subscriptionFeatures": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "servicePartners": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ServicePartner"
            },
            "nullable": true
          },
          "licenses": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LicenseInfo"
            },
            "nullable": true
          },
          "equipmentGroups": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EquipmentGroupInfo"
            },
            "nullable": true
          },
          "servicePartnerType": {
            "$ref": "#/components/schemas/ServicePartnerType"
          }
        },
        "additionalProperties": false
      },
      "UserProfile": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "nullable": true
          },
          "subscriptions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SubscriptionUserProfileInfo"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      }
    },
    "securitySchemes": {
      "Bearer": {
        "type": "apiKey",
        "description": "Standard Authorization header using the Bearer scheme. Example: \"bearer {token}\"",
        "name": "Authorization",
        "in": "header"
      }
    }
  },
  "security": [
    {
      "Bearer": [ ]
    }
  ],
  "tags": [
    {
      "name": "Application"
    },
    {
      "name": "ApplicationCapability"
    },
    {
      "name": "ApplicationMachines"
    },
    {
      "name": "ApplicationSettings"
    },
    {
      "name": "ApplicationTokenProfile"
    },
    {
      "name": "CloudConnectorOnboarding"
    },
    {
      "name": "CloudConnectorProfile"
    },
    {
      "name": "MachineMetadata"
    },
    {
      "name": "SubscriptionDataDeletion"
    },
    {
      "name": "SubscriptionOverview"
    },
    {
      "name": "UserProfile"
    },
    {
      "name": "Warmup"
    }
  ]
}